<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The XVIII Gazette | Master Edition</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,700&family=UnifrakturMaguntia&family=EB+Garamond:ital,wght@0,400;0,600&family=Courier+Prime&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    :root { --paper: #f4f1ea; --ink: #1a1a1a; --wax: #8b0000; --cream: #fdfaf0; }
    body { margin: 0; background: var(--cream); overflow: hidden; font-family: 'EB Garamond', serif; }

    /* --- ENHANCED AMBIENT BACKGROUND --- */
    #bg-canvas { position: fixed; inset: 0; background: radial-gradient(circle, #fffdf7, #e8e2d2); z-index: -1; }
    .petal { position: absolute; top: -5vh; animation: fall linear infinite; opacity: 0.4; pointer-events: none; }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

    /* --- THE CINEMATIC LOADING SCREEN --- */
    #overlay { position: fixed; inset: 0; background: #0a0a0a; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 3000; transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1); }
    
    .loading-hint { font-family: 'Courier Prime'; color: #888; font-size: 0.8rem; margin-top: 20px; letter-spacing: 2px; text-transform: uppercase; }
    #countdown { font-family: 'Courier Prime'; color: var(--paper); font-size: 1.5rem; margin-bottom: 2rem; border: 1px solid #333; padding: 10px 20px; }

    .envelope { width: 420px; height: 280px; background: #dccfb2; position: relative; box-shadow: 0 50px 100px rgba(0,0,0,0.8); perspective: 1500px; transform: scale(0.9); }
    .flap { position: absolute; inset: 0; border-left: 210px solid transparent; border-right: 210px solid transparent; border-top: 150px solid #c9bc9c; transform-origin: top; transition: 1.2s cubic-bezier(0.4, 0, 0.2, 1); z-index: 5; }
    
    /* Wax Seal with "Pulse" Animation */
    .wax-seal { 
      width: 90px; height: 90px; background: var(--wax); border-radius: 50%; position: absolute; 
      top: 110px; left: 50%; transform: translateX(-50%); cursor: pointer; z-index: 10;
      display: grid; place-items: center; color: gold; font-family: 'UnifrakturMaguntia'; font-size: 2.2rem;
      box-shadow: 0 5px 20px rgba(0,0,0,0.6); transition: 0.5s;
    }
    .wax-seal:active { transform: translateX(-50%) scale(0.9); box-shadow: 0 0 30px var(--wax); }

    .open .flap { transform: rotateX(180deg); }
    .open .wax-seal { transform: translate(-50%, 200px); opacity: 0; pointer-events: none; }

    /* --- THE NEWSPAPER (BETTER CONTENT DENSITY) --- */
    #newspaper-container { display: none; width: 95vw; max-width: 850px; height: 85vh; margin: 4vh auto; position: relative; perspective: 2500px; opacity: 0; transition: 1.5s; }
    .page { position: absolute; inset: 0; padding: 40px; background: var(--paper); border: 1px solid rgba(0,0,0,0.1); transform-origin: left; transition: 0.9s cubic-bezier(.645,.045,.355,1); backface-visibility: hidden; overflow-y: auto; box-shadow: 15px 15px 50px rgba(0,0,0,0.3); }
    .page.flipped { transform: rotateY(-180deg); }

    /* Masthead & News Headers */
    .masthead { border-bottom: 6px double var(--ink); text-align: center; padding-bottom: 5px; }
    .masthead h1 { font-family: 'UnifrakturMaguntia'; font-size: 4.5rem; margin: 0; line-height: 1; }
    .sub-bar { border-bottom: 2px solid var(--ink); display: flex; justify-content: space-between; font-family: 'Courier Prime'; font-size: 0.75rem; padding: 4px; margin-bottom: 20px; font-weight: bold; }

    .headline-main { font-family: 'Playfair Display'; font-weight: 900; font-size: 2.5rem; text-align: center; text-transform: uppercase; line-height: 1; margin: 20px 0; border-bottom: 1px solid #ccc; padding-bottom: 15px; }
    .columns { column-count: 2; column-gap: 30px; text-align: justify; }
    .columns p::first-letter { float: left; font-size: 4rem; font-family: 'UnifrakturMaguntia'; line-height: 0.7; padding-right: 10px; }

    .img-box { break-inside: avoid; border: 1px solid #000; padding: 5px; background: #fff; margin-bottom: 15px; box-shadow: 5px 5px 15px rgba(0,0,0,0.1); }
    .img-box img { width: 100%; filter: sepia(0.3) contrast(1.1); display: block; }

    /* --- THE LAST PAGE (OFFICIAL SUPPLEMENT) --- */
    .final-page-wrap { display: flex; flex-direction: column; height: 100%; }
    .supplement-header { background: var(--ink); color: var(--paper); font-family: 'Courier Prime'; padding: 5px; text-align: center; font-size: 0.8rem; letter-spacing: 3px; margin-bottom: 20px; }
    
    .msg-box { border: 2px solid var(--ink); padding: 25px; margin: 15px 0; position: relative; background: #fffdf7; }
    .msg-box::before { content: "¬ß"; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: var(--paper); padding: 0 10px; font-size: 1.5rem; }
    
    .signature { text-align: right; font-family: 'UnifrakturMaguntia'; font-size: 1.8rem; margin-top: 20px; border-top: 1px solid #000; display: inline-block; float: right; padding-top: 10px; }

    /* Navigation */
    .nav-ctrl { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); display: none; gap: 40px; z-index: 4000; }
    .nav-btn { background: none; border: 2.5px solid var(--ink); padding: 10px 30px; font-family: 'Courier Prime'; cursor: pointer; font-weight: bold; transition: 0.3s; text-transform: uppercase; }
    .nav-btn:hover { background: var(--ink); color: #fff; }
  </style>
</head>
<body>

<div id="bg-canvas"></div>

<section id="overlay">
  <div id="countdown">--:--:--</div>
  <div class="envelope" id="env">
    <div class="flap"></div>
    <div class="wax-seal" id="seal" onmousedown="startHold()" onmouseup="endHold()" ontouchstart="startHold()" ontouchend="endHold()">K</div>
    <div style="position:absolute; bottom:30px; width:100%; text-align:center; cursor:pointer;" ondblclick="triggerBackdoor()">FOR MISS KASHVI</div>
  </div>
  <div class="loading-hint" id="hint-text">Hold Seal to Verify Identity</div>
</section>

<main id="newspaper-container">
  <article class="page" id="p1" style="z-index: 5;">
    <div class="masthead"><h1>The Birthday Times</h1></div>
    <div class="sub-bar"><span>VOL XVIII ... NO. 113</span><span>JANUARY 20, 2026</span><span>PRICELESS EDITION</span></div>
    <div class="headline-main">A Monumental Milestone: Kashvi Reaches 18</div>
    <div class="columns">
      <div class="img-box"><img src="1.jpeg"></div>
      <p>Today marks the transition into a new chapter of sheer brilliance. Known for her razor-sharp wit and unwavering reliability, Kashvi's eighteenth year is hailed as the 'Perfect Build'.</p>
      <p>Authorities confirm that her presence in the lab and academia has provided a consistent performance boost to all associates. The forecast for the coming year predicts record-breaking success and stability.</p>
    </div>
  </article>

  <article class="page" id="p2" style="z-index: 4;">
    <div class="headline-main">Editorial: The Power of the Anchor</div>
    <div class="columns">
      <p>Reliability is a rare currency. In a sea of academic chaos, Kashvi has remained the constant‚Äîsharing earphones, late-night grit, and the occasional burst of much-needed laughter.</p>
      <div class="img-box"><img src="2.jpeg"></div>
      <p>This edition explores the 'Kashvi Protocol': a system of excellence and drive that has redefined the standards of partnership. To know her is to understand the true meaning of a stable anchor.</p>
    </div>
  </article>

  <article class="page" id="p3" style="z-index: 1;">
    <div class="final-page-wrap">
      <div class="supplement-header">OFFICIAL GAZETTE SPECIAL SUPPLEMENT</div>
      
      <div class="img-box" style="max-width: 70%; margin: 0 auto 20px;"><img src="6.jpeg"></div>
      
      <div class="msg-box">
        <p style="font-size: 1.2rem; line-height: 1.6;"><strong>MESSAGE I:</strong><br>To the one who keeps me on my toes, the one who shares the earphones, and the one who celebrates 18 years of sheer brilliance‚ÄîHappy Birthday. You are, and always will be, a legend in the making.</p>
      </div>

      <div class="msg-box" style="border-style: double; border-width: 4px;">
        <p style="font-size: 1.2rem; line-height: 1.6; font-style: italic;"><strong>MESSAGE II:</strong><br>For the wins, the laughs, and the quiet stability that makes everything else possible. May your 18th year be your most powerful iteration yet. The best is yet to come. üßøüíô</p>
      </div>

      <div class="signature">The Curator</div>
    </div>
  </article>
</main>

<div class="nav-ctrl" id="nav-btns">
  <button class="nav-btn" onclick="turn(-1)">‚Üê Prev</button>
  <button class="nav-btn" onclick="turn(1)">Next ‚Üí</button>
</div>

<script>
  // Petal System
  for(let i=0; i<25; i++) {
    const p = document.createElement('div');
    p.className = 'petal';
    p.textContent = ['üå∏','üåº','üåø','üçÉ'][Math.floor(Math.random()*4)];
    p.style.left = Math.random()*100+'vw';
    p.style.animationDuration = (6+Math.random()*6)+'s';
    document.getElementById('bg-canvas').appendChild(p);
  }

  // Timer & State
  let holdTimer;
  let isUnlocked = false;
  const target = new Date("January 20, 2026 00:00:00").getTime();

  setInterval(() => {
    const diff = target - Date.now();
    if(diff <= 0) isUnlocked = true;
    document.getElementById('countdown').textContent = new Date(Math.max(0, diff)).toISOString().substr(11,8);
  }, 1000);

  // Press & Hold Logic
  function startHold() {
    if(!isUnlocked) {
      document.getElementById('hint-text').textContent = "Identity Locked. Wait for Jan 20.";
      return;
    }
    document.getElementById('hint-text').textContent = "Verifying...";
    holdTimer = setTimeout(openGazette, 1500); // Must hold for 1.5 seconds
  }

  function endHold() {
    clearTimeout(holdTimer);
    if(!document.getElementById('env').classList.contains('open')) {
      document.getElementById('hint-text').textContent = "Hold Seal to Verify Identity";
    }
  }

  function triggerBackdoor() {
    if(prompt("ACCESS CODE:") === "KASHVI18") {
      isUnlocked = true;
      openGazette();
    }
  }

  function openGazette() {
    document.getElementById('env').classList.add('open');
    document.getElementById('hint-text').textContent = "Identity Confirmed.";
    setTimeout(() => {
      confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
      document.getElementById('overlay').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('newspaper-container').style.display = 'block';
        document.getElementById('nav-btns').style.display = 'flex';
        setTimeout(() => document.getElementById('newspaper-container').style.opacity = '1', 100);
      }, 1000);
    }, 1200);
  }

  let currPage = 1;
  function turn(dir) {
    if(dir === 1 && currPage < 3) {
      document.getElementById('p'+currPage).classList.add('flipped');
      currPage++;
    } else if (dir === -1 && currPage > 1) {
      currPage--;
      document.getElementById('p'+currPage).classList.remove('flipped');
    }
  }
</script>
</body>
</html>
