<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 18th Kashvi! ü§ç</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary-pink: #ffb3c1;
            --soft-pink: #fff0f3;
            --dark-pink: #fb6f92;
            --text-color: #5e548e;
        }

        body {
            margin: 0; padding: 0;
            background: #0a0a0a;
            font-family: 'Georgia', serif;
            color: white;
            overflow-x: hidden;
        }

        /* Initial Page */
        #overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #ffe5ec 0%, #ffb3c1 100%);
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 2000; transition: all 1s ease-in-out;
            text-align: center; color: var(--text-color);
        }

        #countdown { font-family: sans-serif; margin-bottom: 30px; }
        .timer-unit { display: inline-block; margin: 0 10px; }
        .timer-num { font-size: 2.5rem; font-weight: bold; display: block; }

        button {
            padding: 18px 40px; font-size: 1.2rem;
            background: white; color: var(--dark-pink);
            border: none; border-radius: 50px;
            cursor: pointer; box-shadow: 0 10px 20px rgba(251, 111, 146, 0.3);
            font-weight: bold; letter-spacing: 2px;
            transition: 0.3s;
        }
        button:hover { transform: scale(1.05); }

        /* 3D Canvas Background */
        #canvas-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
        }

        /* Content Overlay */
        .content-scroll {
            position: relative; z-index: 10;
            width: 100%; display: flex; flex-direction: column; align-items: center;
        }

        .container {
            max-width: 650px; text-align: center;
            padding: 100vh 20px 50px 20px; 
        }

        h1 { font-size: 2.8rem; color: var(--primary-pink); text-shadow: 0 0 20px rgba(251,111,146,0.6); margin-top: 50px; }

        /* MASONRY COLLAGE CSS */
        .collage {
            column-count: 2;
            column-gap: 15px;
            margin: 40px 0;
            width: 100%;
        }

        .collage img {
            width: 100%;
            height: auto; 
            display: block;
            margin-bottom: 15px;
            border-radius: 15px;
            border: 5px solid white;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            transition: transform 0.4s ease;
            break-inside: avoid;
        }

        .collage img:hover {
            transform: scale(1.03) translateY(-5px);
        }

        .message-box {
            background: rgba(255, 255, 255, 0.92); padding: 40px 30px;
            border-radius: 25px; line-height: 1.9; color: var(--text-color);
            text-align: left; border-left: 8px solid var(--primary-pink);
            white-space: pre-line; backdrop-filter: blur(15px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            margin-top: 20px;
        }

        footer {
            margin: 80px 0; color: var(--primary-pink);
            font-style: italic; font-weight: bold; font-size: 1.1rem;
        }

        .fade-in { opacity: 0; transform: translateY(30px); transition: all 1.2s ease-out; }
        .visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

<div id="overlay">
    <div style="font-size: 60px; color: white;">ü§ç</div>
    <div id="countdown">
        <div class="timer-unit"><span class="timer-num" id="days">00</span><span>Days</span></div>
        <div class="timer-unit"><span class="timer-num" id="hours">00</span><span>Hrs</span></div>
        <div class="timer-unit"><span class="timer-num" id="mins">00</span><span>Mins</span></div>
    </div>
    <button onclick="startPage()">FOR KASHVI ü§ç</button>
</div>

<div id="canvas-container"></div>

<div class="content-scroll" id="mainContent" style="display:none;">
    <div class="container">
        <h1 class="fade-in">HAPPY 18th BIRTHDAY KASHVI</h1>
        <p class="fade-in" style="letter-spacing: 6px; color: var(--primary-pink); font-weight: bold;">SCROLL FOR MEMORIES ü§ç</p>

        <div class="collage">
            <img src="1.jpeg" class="fade-in">
            <img src="2.jpeg" class="fade-in">
            <img src="3.jpeg" class="fade-in">
            <img src="4.jpeg" class="fade-in">
            <img src="5.jpeg" class="fade-in">
            <img src="6.jpeg" class="fade-in">
        </div>

        <div class="message-box fade-in">
Happy Birthday to someone who makes even the most ordinary days feel lighter. From the laughs we somehow always find in labs, to sharing earphones and working together with an understanding that never needed explaining‚Äîit‚Äôs always just easy with you. 

From finishing each other‚Äôs assignments, correcting mistakes, helping each other through quizzes, to mocking and competing in the healthiest, funniest way, every moment with you feels like teamwork at its best. Add in the random tickles and cheek-pulling that end in uncontrollable laughter, and it‚Äôs impossible not to smile around you. 

You‚Äôve had my back quietly‚Äîkeeping things discreet when needed, guiding me toward better choices, and pushing me to improve without ever making it feel heavy. Even on the days you said ‚ÄúI‚Äôm okay‚Äù when you weren‚Äôt, you still showed up with strength and care. 

I‚Äôm genuinely grateful to have you as a friend, and I hope this year gives you all the laughter, wins, and peace you deserve ü§ç
        </div>

        <footer class="fade-in">Made from SMEET for a very special friend</footer>
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="birthday-song.mp3" type="audio/mpeg">
</audio>

<script type="importmap">
    { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } }
</script>

<script type="module">
import * as THREE from 'three';
import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';

const PARTICLE_COUNT = 30000;
const SHAPES = ['heart', 'dna', 'galaxy'];
let currentShapeIdx = 0;
let scene, camera, renderer, composer, particles, geometry;
const targetArray = new Float32Array(PARTICLE_COUNT * 3);

function init3D() {
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 18;

    renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(
