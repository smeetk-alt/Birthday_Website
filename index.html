<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The XVIII Gazette | Fail-Safe Edition</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,700&family=UnifrakturMaguntia&family=EB+Garamond:ital,wght@0,400;0,600&family=Courier+Prime&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    :root { --paper: #f4f1ea; --ink: #1a1a1a; --wax: #8b0000; --cream: #fdfaf0; }
    body { margin: 0; background: var(--cream); overflow: hidden; font-family: 'EB Garamond', serif; }

    /* Animated Background */
    #bg-canvas { position: fixed; inset: 0; background: radial-gradient(circle, #fff9e6, #e5dfcf); z-index: -1; }
    .petal { position: absolute; top: -5vh; animation: fall linear infinite; opacity: 0.3; pointer-events: none; }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

    /* Lock Screen */
    #overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 3000; transition: opacity 0.8s; }
    #countdown { font-family: 'Courier Prime'; color: #fff; font-size: 1.2rem; margin-bottom: 2rem; }

    .envelope { width: 380px; height: 250px; background: #e0d8c3; position: relative; box-shadow: 0 30px 60px rgba(0,0,0,0.5); perspective: 1000px; }
    .flap { position: absolute; inset: 0; border-left: 190px solid transparent; border-right: 190px solid transparent; border-top: 130px solid #cfc6ad; transform-origin: top; transition: 0.8s; z-index: 5; }
    .wax-seal { 
      width: 70px; height: 70px; background: var(--wax); border-radius: 50%; position: absolute; 
      top: 95px; left: 50%; transform: translateX(-50%); cursor: pointer; z-index: 10;
      display: grid; place-items: center; color: gold; font-family: 'UnifrakturMaguntia'; font-size: 1.8rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3); transition: 0.5s;
    }
    .open .flap { transform: rotateX(180deg); }
    .open .wax-seal { transform: translate(-50%, 150px); opacity: 0; }

    /* Newspaper */
    #newspaper-wrap { display: none; width: 95vw; max-width: 800px; height: 85vh; margin: 4vh auto; position: relative; perspective: 2000px; opacity: 0; transition: opacity 1s; }
    .page { position: absolute; inset: 0; padding: 30px; background: var(--paper); border: 1px solid #ddd; transform-origin: left; transition: 0.8s; backface-visibility: hidden; overflow-y: auto; box-shadow: 10px 10px 40px rgba(0,0,0,0.2); }
    .page.flipped { transform: rotateY(-180deg); }

    /* Layout */
    .masthead { text-align: center; border-bottom: 4px double #000; margin-bottom: 10px; }
    .masthead h1 { font-family: 'UnifrakturMaguntia'; font-size: 3.5rem; margin: 0; }
    .headline { font-family: 'Playfair Display'; font-weight: 900; font-size: 2rem; text-align: center; text-transform: uppercase; margin: 15px 0; border-bottom: 1px solid #aaa; }
    .cols { column-count: 2; column-gap: 20px; text-align: justify; }
    .img-box { border: 1px solid #000; padding: 3px; background: #fff; margin-bottom: 10px; break-inside: avoid; }
    .img-box img { width: 100%; filter: sepia(0.3); display: block; }

    /* Controls */
    .controls { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); display: none; gap: 20px; z-index: 4000; }
    .btn { border: 1px solid #000; background: #fff; padding: 8px 20px; font-family: 'Courier Prime'; cursor: pointer; }
  </style>
</head>
<body>

<div id="bg-canvas"></div>

<section id="overlay">
  <div id="countdown">--:--:--</div>
  <div class="envelope" id="env">
    <div class="flap"></div>
    <div class="wax-seal" onclick="handleSealClick()">K</div>
    <div style="position:absolute; bottom:20px; width:100%; text-align:center; font-size: 0.8rem; color:#777;">CLICK SEAL 3 TIMES TO BYPASS</div>
  </div>
</section>

<main id="newspaper-wrap">
  <article class="page" id="p1" style="z-index: 5;">
    <div class="masthead"><h1>The Birthday Times</h1></div>
    <div class="headline">Kashvi Reaches 18: A Global Event</div>
    <div class="cols">
      <div class="img-box"><img src="1.jpeg"></div>
      <p>Today marks the transition into a new chapter. Kashvi, known for her sharp intellect, officially enters adulthood. Experts suggest this is the most successful "Build" of the year.</p>
      <p>In the world of labs and logic, her stability remains unmatched. Friends describe her as the primary anchor in any high-pressure situation.</p>
    </div>
  </article>

  <article class="page" id="p2" style="z-index: 4;">
    <div class="headline">Editorial: The Power of Reliability</div>
    <div class="cols">
      <p>Reliability is rare. In the laboratory of life, having someone who shares the earphones and the workload is essential. Kashvi has redefined these standards.</p>
      <div class="img-box"><img src="2.jpeg"></div>
      <p>This edition explores how her wit and presence have influenced those around her over the past 17 chapters.</p>
    </div>
  </article>

  <article class="page" id="p5" style="z-index: 1;">
    <div class="headline">OFFICIAL GAZETTE</div>
    <div class="img-box"><img src="6.jpeg"></div>
    <div style="border: 2px solid #000; padding: 20px; text-align: center; background: rgba(0,0,0,0.02);">
      <p><strong>MESSAGE I:</strong> To the one who keeps me on my toesâ€”Happy Birthday. You are a legend in the making.</p>
      <hr>
      <p><strong>MESSAGE II:</strong> For the wins, the laughs, and the quiet stability. May this year be your best iteration. ðŸ§¿ðŸ’™</p>
    </div>
  </article>
</main>

<div class="controls" id="ui-btns">
  <button class="btn" onclick="turn(-1)">PREV</button>
  <button class="btn" onclick="turn(1)">NEXT</button>
</div>

<script>
  // Petal System
  for(let i=0; i<20; i++) {
    const p = document.createElement('div');
    p.className = 'petal';
    p.textContent = ['ðŸŒ¸','ðŸŒ¼','ðŸŒ¿'][Math.floor(Math.random()*3)];
    p.style.left = Math.random()*100+'vw';
    p.style.animationDuration = (5+Math.random()*5)+'s';
    document.getElementById('bg-canvas').appendChild(p);
  }

  let clickCount = 0;
  let isUnlocked = false;
  const target = new Date("January 20, 2026 00:00:00").getTime();

  // Timer
  setInterval(() => {
    const diff = target - Date.now();
    if(diff <= 0) isUnlocked = true;
    document.getElementById('countdown').textContent = new Date(Math.max(0, diff)).toISOString().substr(11,8);
  }, 1000);

  // FAIL-SAFE UNLOCK
  function handleSealClick() {
    clickCount++;
    if(clickCount >= 3) {
      let pass = prompt("ENTER ACCESS KEY:");
      if(pass === "KASHVI18") {
        isUnlocked = true;
        startReveal();
      }
    } else if (isUnlocked) {
      startReveal();
    }
  }

  function startReveal() {
    document.getElementById('env').classList.add('open');
    setTimeout(() => {
      confetti({ particleCount: 150, spread: 70 });
      document.getElementById('overlay').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('newspaper-wrap').style.display = 'block';
        document.getElementById('ui-btns').style.display = 'flex';
        setTimeout(() => document.getElementById('newspaper-wrap').style.opacity = '1', 100);
      }, 800);
    }, 1000);
  }

  let currPage = 1;
  function turn(dir) {
    if(dir === 1 && currPage < 5) {
      document.getElementById('p'+currPage).classList.add('flipped');
      currPage++;
    } else if (dir === -1 && currPage > 1) {
      currPage--;
      document.getElementById('p'+currPage).classList.remove('flipped');
    }
  }
</script>
</body>
</html>
